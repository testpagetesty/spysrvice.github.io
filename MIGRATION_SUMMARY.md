# –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Beget VPS

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ó–∞–º–µ–Ω–∞ Supabase –Ω–∞ PostgreSQL
- ‚úÖ –°–æ–∑–¥–∞–Ω `src/lib/db.ts` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL —á–µ—Ä–µ–∑ `pg`
- ‚úÖ –í—Å–µ API routes –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä—è–º—ã—Ö SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `database_schema.sql` —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ `dashboard_settings` –∏ `ad_settings`

### 2. –ó–∞–º–µ–Ω–∞ Supabase Storage –Ω–∞ S3
- ‚úÖ –°–æ–∑–¥–∞–Ω `src/lib/storage.ts` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å S3 —á–µ—Ä–µ–∑ `@aws-sdk/client-s3`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ S3-compatible storage (Beget S3, MinIO –∏ –¥—Ä.)
- ‚úÖ –í—Å–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ S3

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

#### Backend (API Routes):
- ‚úÖ `src/app/api/creatives/route.ts` - GET/POST –¥–ª—è –∫—Ä–µ–∞—Ç–∏–≤–æ–≤
- ‚úÖ `src/app/api/admin/moderate/route.ts` - –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫—Ä–µ–∞—Ç–∏–≤–æ–≤
- ‚úÖ `src/app/api/admin/delete-creatives/route.ts` - –£–¥–∞–ª–µ–Ω–∏–µ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤
- ‚úÖ `src/app/api/admin/update-creative/route.ts` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤
- ‚úÖ `src/app/api/dashboard-settings/route.ts` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞—à–±–æ—Ä–¥–∞
- ‚úÖ `src/app/api/ads/route.ts` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–∫–ª–∞–º—ã
- ‚úÖ `src/app/api/admin/ads/route.ts` - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –¥–ª—è —Ä–µ–∫–ª–∞–º—ã
- ‚úÖ `src/app/api/references/[type]/route.ts` - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (–Ω–æ–≤—ã–π)

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `src/lib/db.ts` - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
- ‚úÖ `src/lib/storage.ts` - –†–∞–±–æ—Ç–∞ —Å S3 Storage
- ‚úÖ `src/lib/api-client.ts` - –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π API (–¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- ‚úÖ `.env.example` - –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ `DEPLOY_INSTRUCTIONS.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é

#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `package.json` - –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pg`, `@aws-sdk/client-s3`, `@aws-sdk/s3-request-presigner`
- ‚úÖ `database_schema.sql` - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∞–±–ª–∏—Ü—ã `dashboard_settings` –∏ `ad_settings`

### 4. –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   npm install
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL:**
   - –°–æ–∑–¥–∞—Ç—å –ë–î –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –í—ã–ø–æ–ª–Ω–∏—Ç—å `database_schema.sql`

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å S3:**
   - –°–æ–∑–¥–∞—Ç—å bucket –≤ Beget S3
   - –ü–æ–ª—É—á–∏—Ç—å Access Key –∏ Secret Key

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –°–æ–∑–¥–∞—Ç—å `.env.production` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`

5. **–°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å:**
   ```bash
   npm run build
   pm2 start ecosystem.config.js
   ```

---

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å –≤ `.env.production`:
- `DB_*` - –¥–ª—è PostgreSQL
- `S3_*` - –¥–ª—è S3 Storage
- `NEXT_PUBLIC_API_URL` - URL –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥

–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ (`src/app/page.tsx`, `src/app/admin/page.tsx`) –ø–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–π Supabase –∫–ª–∏–µ–Ω—Ç. –≠—Ç–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∂–µ, –Ω–æ API routes —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å PostgreSQL.

### S3 Storage

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- S3 bucket —Å–æ–∑–¥–∞–Ω
- –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- Endpoint URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `DEPLOY_INSTRUCTIONS.md`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π

---

## ‚ö†Ô∏è –ß—Ç–æ –µ—â–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥** - –æ–±–Ω–æ–≤–∏—Ç—å `src/app/page.tsx` –∏ `src/app/admin/page.tsx` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ API –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Supabase
2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - –æ–±–Ω–æ–≤–∏—Ç—å `src/components/Filters.tsx` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ API

–ù–æ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ - API routes —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ API endpoints.

